<!DOCTYPE html>
<html lang="pl">
<head>
    <title>mObywatel</title>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=0.8, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="assets/app/main.css">
    <link rel="stylesheet" href="assets/app/id.css">
    <link rel="icon" type="image/x-icon" href="assets/app/images/ikonka.png">
    <link rel="apple-touch-icon" href="assets/app/images/ikonka.png">
    <link rel="shortcut icon" href="assets/app/images/ikonka.png">
</head>
<body>
    <button class="refresh_button" onclick="window.location.href = window.location.href.split("?")[0] + "?t=" + Date.now()" title="Force Refresh">↻</button>
    <div class="background"></div>
    <div class="login_wrapper">
        <div class="top_grid">
            <img class="logo" src="assets/app/images/logo_large.png" alt="mObywatel">
            <p class="logo_text">mObywatel</p>
        </div>
        <div class="top_text">
            <p class="welcome"></p>
            <p class="login_text">Zaloguj się do aplikacji.</p>
        </div>
        <div class="password_box">
            <div class="password_grid">
                <p class="password_text">Hasło</p>
                <div class="input_holder">
                    <input class="password_input" type="password" autocomplete="off">
                    <div class="eye"></div>
                </div>
                <p class="forgot_password" id="forgotPasswordBtn">Nie pamiętasz hasła?</p>
            </div>
        </div>
        <div class="bottom">
            <p class="login">Zaloguj się</p>
            <div class="data">
                <img class="logo_other logo_white" src="assets/app/images/logoCoi@3x.png" alt="COI">
                <img class="logo_other logo_white" src="assets/app/images/mc@3x.png" alt="MC">
                <img class="logo_other logo_white" src="assets/app/images/kpo@3x.png" alt="KPO">
                <img class="logo_other" src="assets/app/images/nowykutaas123.jpg" alt="EU">
            </div>
            <p class="version">wersja 4.71.1 (2)</p>
        </div>
    </div>
    <div class="background_controls" id="backgroundControls">
        <div class="background_controls_grid">
            <div></div>
            <button class="bg_control_btn" id="bgUp">↑</button>
            <div></div>
            <button class="bg_control_btn" id="bgLeft">←</button>
            <div></div>
            <button class="bg_control_btn" id="bgRight">→</button>
            <div></div>
            <button class="bg_control_btn" id="bgDown">↓</button>
            <div></div>
        </div>
    </div>
    <script src="assets/app/auth.js"></script>
    <script src="assets/app/id.js"></script>
    <script src="assets/app/manifest.js"></script>
    <script>
        // Background position controls
        let bgX = 50; // percentage
        let bgY = 0; // percentage
        const bgElement = document.querySelector('.background');
        const controls = document.getElementById('backgroundControls');
        const forgotPasswordBtn = document.getElementById('forgotPasswordBtn');
        
        function updateBackgroundPosition() {
            bgElement.style.backgroundPosition = `${bgX}% ${bgY}%`;
            localStorage.setItem('bgPosX', bgX);
            localStorage.setItem('bgPosY', bgY);
        }
        
        // Load saved position
        const savedX = localStorage.getItem('bgPosX');
        const savedY = localStorage.getItem('bgPosY');
        if (savedX !== null) bgX = parseFloat(savedX);
        if (savedY !== null) bgY = parseFloat(savedY);
        updateBackgroundPosition();
        
        // Toggle controls on "Nie pamiętasz hasła?" click
        forgotPasswordBtn.addEventListener('click', () => {
            controls.classList.toggle('active');
        });
        
        // Arrow button handlers
        document.getElementById('bgUp').addEventListener('click', () => {
            bgY = Math.max(0, bgY - 5);
            updateBackgroundPosition();
        });
        
        document.getElementById('bgDown').addEventListener('click', () => {
            bgY = Math.min(100, bgY + 5);
            updateBackgroundPosition();
        });
        
        document.getElementById('bgLeft').addEventListener('click', () => {
            bgX = Math.max(0, bgX - 5);
            updateBackgroundPosition();
        });
        
        document.getElementById('bgRight').addEventListener('click', () => {
            bgX = Math.min(100, bgX + 5);
            updateBackgroundPosition();
        });
    </script>
</body>
</html>
